<!-- filepath: views/rewards.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rewards & Achievements | BookSwap</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/rewards.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:700,600,400&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    
</head>
<body class="rewards-main">

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark custom-navbar">
    <div class="container-fluid">
        <!-- Logo -->
        <a class="navbar-brand d-flex align-items-center" href="/" style="margin-left: 100px; margin-right: 150px; margin-top: 10px;">
            <img src="./images/Untitled design(1).png" alt="BookSwap" class="logo-image" style="
                height: 32px; 
                width: auto; 
                transform: scale(4);
                filter: drop-shadow(0 3px 6px rgba(0,0,0,0.2));
                transition: all 0.3s ease;
                z-index: 10;
                position: relative;
            " onmouseover="this.style.transform='scale(4.3)'" onmouseout="this.style.transform='scale(4)'"/>
        </a>
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item <%= activePage === 'dashboard' ? 'active' : '' %>">
                    <a class="nav-link" href="/dashboard"><i class="bi bi-speedometer2"></i> Dashboard</a>
                </li>
                <li class="nav-item <%= activePage === 'library' ? 'active' : '' %>">
                    <a class="nav-link" href="/library"><i class="bi bi-book"></i> My Library</a>
                </li>
                <li class="nav-item <%= activePage === 'wishlist' ? 'active' : '' %>">
                    <a class="nav-link" href="/wishlist"><i class="bi bi-heart"></i> Wishlist</a>
                </li>
                <li class="nav-item <%= activePage === 'swap-matcher' ? 'active' : '' %>">
                    <a class="nav-link" href="/swap-matcher"><i class="bi bi-arrow-left-right"></i> Swap Matcher</a>
                </li>
                <li class="nav-item <%= activePage === 'rewards' ? 'active' : '' %>">
                    <a class="nav-link" href="/rewards"><i class="bi bi-trophy"></i> Rewards</a>
                </li>
            </ul>
            
            <!-- Profile dropdown -->
            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="profileDropdown" role="button" data-toggle="dropdown">
                        <i class="bi bi-person-circle"></i> Profile
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="/me"><i class="bi bi-person"></i> My Profile</a>
                        <a class="dropdown-item" href="/history"><i class="bi bi-clock-history"></i> Activity History</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="/logout"><i class="bi bi-box-arrow-right"></i> Logout</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container-fluid px-4">
    <!-- Header -->
    <div class="rewards-header">
        <h1 class="page-title">My Achievements</h1>
        <p style="color: #b0b3b8; font-size: 1.2rem; margin-bottom: 2rem;">
            Complete swaps, help the community, and earn badges to build your reputation
        </p>
        
        <div class="button-group">
            <button class="btn btn-gradient" id="exploreQuests">
                <i class="bi bi-search"></i> Explore Quests
            </button>
            <a href="/leaderboard" class="btn btn-refresh-style">
                <i class="bi bi-trophy-fill"></i> View Leaderboard
            </a>
        </div>
    </div>

    <!-- Reputation Section -->
    <div class="reputation-section">
        <div class="row text-center">
            <div class="col-md-4">
                <div class="reputation-score" id="reputationPoints">1,250</div>
                <div style="color: #b0b3b8;">Reputation Points</div>
            </div>
            <div class="col-md-4">
                <div class="reputation-score" id="badgesUnlocked">8</div>
                <div style="color: #b0b3b8;">Badges Unlocked</div>
            </div>
            <div class="col-md-4">
                <div class="reputation-score" id="totalBadges">15</div>
                <div style="color: #b0b3b8;">Total Badges</div>
            </div>
        </div>
        
        <div class="progress-bar-modern mt-3">
            <div class="progress-fill" style="width: 53%"></div>
        </div>
        <div class="text-center mt-2" style="color: #b0b3b8; font-size: 0.9rem;">
            Unlock 2 more badges to reach "The Collector" milestone
        </div>
    </div>

    <!-- Badges Section -->
    <div class="section-title">
        <i class="bi bi-award"></i>
        Achievement Badges
    </div>
    
    <!-- Login & Visit Achievements -->
    <h5 style="color: #F6B443; margin-bottom: 1rem;">🕐 Login & Visit Streaks</h5>
    <div class="badge-grid">
        <div class="badge-card unlocked">
            <div class="badge-icon">🌙</div>
            <div class="badge-title">Night Owl</div>
            <div class="badge-description">Visit the website between 10pm and 5am</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">☀️</div>
            <div class="badge-title">Early Bird</div>
            <div class="badge-description">Visit the website between 5am and 8am</div>
            <div class="badge-status status-locked">🔒 Locked</div>
        </div>
        
        <div class="badge-card unlocked">
            <div class="badge-icon">📅</div>
            <div class="badge-title">Daily Visitor</div>
            <div class="badge-description">Visit the website 7 days in a row</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
        
        <div class="badge-card unlocked">
            <div class="badge-icon">🎉</div>
            <div class="badge-title">The Weekend</div>
            <div class="badge-description">Logged in on a weekend (Friday/Saturday)</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
    </div>

    <!-- Swapping Achievements -->
    <h5 style="color: #3BB7FB; margin-bottom: 1rem;">📚 Swapping Achievements</h5>
    <div class="badge-grid">
        <div class="badge-card unlocked">
            <div class="badge-icon">📖</div>
            <div class="badge-title">Swap Rookie</div>
            <div class="badge-description">Made your first successful swap</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
        
        <div class="badge-card unlocked">
            <div class="badge-icon">🍀</div>
            <div class="badge-title">Lucky 7</div>
            <div class="badge-description">Completed your 7th swap</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🔄</div>
            <div class="badge-title">Swapaholic</div>
            <div class="badge-description">Made 30 successful swaps</div>
            <div class="badge-status status-locked">🔒 Progress: 12/30</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🏆</div>
            <div class="badge-title">Trade Master</div>
            <div class="badge-description">Completed 50 swaps</div>
            <div class="badge-status status-locked">🔒 Progress: 12/50</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">👑</div>
            <div class="badge-title">Trade Champion</div>
            <div class="badge-description">Reached 100 successful swaps</div>
            <div class="badge-status status-locked">🔒 Progress: 12/100</div>
        </div>
        
        <div class="badge-card unlocked">
            <div class="badge-icon">🛋️</div>
            <div class="badge-title">Chill Trader</div>
            <div class="badge-description">Completed a swap on weekend</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🌍</div>
            <div class="badge-title">The Wanderer</div>
            <div class="badge-description">Made a swap with someone in another country</div>
            <div class="badge-status status-locked">🔒 Locked</div>
        </div>
    </div>

    <!-- Community & Meta Achievements -->
    <h5 style="color: #28a745; margin-bottom: 1rem;">🤝 Community & Meta</h5>
    <div class="badge-grid">
        <div class="badge-card unlocked">
            <div class="badge-icon">🧪</div>
            <div class="badge-title">Beta Tester</div>
            <div class="badge-description">Joined the beta program</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
        
        <div class="badge-card unlocked">
            <div class="badge-icon">🤝</div>
            <div class="badge-title">Community Helper</div>
            <div class="badge-description">Reported duplicate/inaccurate listings</div>
            <div class="badge-status status-unlocked">✅ Unlocked</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">📚</div>
            <div class="badge-title">The Collector</div>
            <div class="badge-description">Earned 10 badges</div>
            <div class="badge-status status-locked">🔒 Progress: 8/10</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">⭐</div>
            <div class="badge-title">All-Star</div>
            <div class="badge-description">Earned all available badges</div>
            <div class="badge-status status-locked">🔒 Progress: 8/20</div>
        </div>
    </div>

    <!-- Monthly Champion Badges -->
    <h5 style="color: #FFD700; margin-bottom: 1rem;">👑 Monthly Champions</h5>
    <div class="badge-grid">
        <div class="badge-card locked">
            <div class="badge-icon">🥇</div>
            <div class="badge-title">Monthly Champion</div>
            <div class="badge-description">Finished #1 in monthly leaderboard</div>
            <div class="badge-status status-locked">🔒 Elite Achievement</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🥈</div>
            <div class="badge-title">Silver Medalist</div>
            <div class="badge-description">Finished #2 in monthly leaderboard</div>
            <div class="badge-status status-locked">🔒 Elite Achievement</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🥉</div>
            <div class="badge-title">Bronze Winner</div>
            <div class="badge-description">Finished #3 in monthly leaderboard</div>
            <div class="badge-status status-locked">🔒 Elite Achievement</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🔥</div>
            <div class="badge-title">Streak Master</div>
            <div class="badge-description">Top 5 for 3 consecutive months</div>
            <div class="badge-status status-locked">🔒 Legendary</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">💎</div>
            <div class="badge-title">Diamond Tier</div>
            <div class="badge-description">Won monthly champion 3 times</div>
            <div class="badge-status status-locked">🔒 Legendary</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🌟</div>
            <div class="badge-title">Rising Star</div>
            <div class="badge-description">Jumped 10+ ranks in one month</div>
            <div class="badge-status status-locked">🔒 Locked</div>
        </div>
    </div>

    <!-- Special & Unique Achievements -->
    <h5 style="color: #9C27B0; margin-bottom: 1rem;">✨ Special & Unique</h5>
    <div class="badge-grid">
        <div class="badge-card locked">
            <div class="badge-icon">🎭</div>
            <div class="badge-title">Genre Master</div>
            <div class="badge-description">Swapped books from 10 different genres</div>
            <div class="badge-status status-locked">🔒 Progress: 4/10</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">📜</div>
            <div class="badge-title">Ancient Wisdom</div>
            <div class="badge-description">Swapped a book published before 1950</div>
            <div class="badge-status status-locked">🔒 Locked</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🚀</div>
            <div class="badge-title">Speed Reader</div>
            <div class="badge-description">Completed 5 swaps in 24 hours</div>
            <div class="badge-status status-locked">🔒 Locked</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🎪</div>
            <div class="badge-title">Social Butterfly</div>
            <div class="badge-description">Swapped with 25 different users</div>
            <div class="badge-status status-locked">🔒 Progress: 8/25</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🏴‍☠️</div>
            <div class="badge-title">Treasure Hunter</div>
            <div class="badge-description">Found and swapped a rare/out-of-print book</div>
            <div class="badge-status status-locked">🔒 Locked</div>
        </div>
        
        <div class="badge-card locked">
            <div class="badge-icon">🎨</div>
            <div class="badge-title">Art Enthusiast</div>
            <div class="badge-description">Swapped 10 art or photography books</div>
            <div class="badge-status status-locked">🔒 Progress: 2/10</div>
        </div>
    </div>

    <!-- Active Quests Section -->
    <div id="questsSection" style="display: none;">
        <div class="section-title">
            <i class="bi bi-list-task"></i>
            Active Quests
        </div>
        
        <div class="row">
            <div class="col-md-6 mb-3">
                <div class="quest-card">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 style="color: #fff; margin: 0;">Weekly Swapper</h6>
                        <span class="quest-reward">+75 Points</span>
                    </div>
                    <p style="color: #b0b3b8; font-size: 0.9rem; margin-bottom: 1rem;">
                        Complete 3 swaps this week
                    </p>
                    <div class="progress-bar-modern" style="height: 8px;">
                        <div class="progress-fill" style="width: 66%;"></div>
                    </div>
                    <small style="color: #b0b3b8;">Progress: 2/3 swaps</small>
                </div>
            </div>
            
            <div class="col-md-6 mb-3">
                <div class="quest-card">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 style="color: #fff; margin: 0;">Consistent Visitor</h6>
                        <span class="quest-reward">+50 Points</span>
                    </div>
                    <p style="color: #b0b3b8; font-size: 0.9rem; margin-bottom: 1rem;">
                        Visit the site 5 days in a row
                    </p>
                    <div class="progress-bar-modern" style="height: 8px;">
                        <div class="progress-fill" style="width: 80%;"></div>
                    </div>
                    <small style="color: #b0b3b8;">Progress: 4/5 days</small>
                </div>
            </div>
            
            <div class="col-md-6 mb-3">
                <div class="quest-card">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 style="color: #fff; margin: 0;">Community Guardian</h6>
                        <span class="quest-reward">+100 Points</span>
                    </div>
                    <p style="color: #b0b3b8; font-size: 0.9rem; margin-bottom: 1rem;">
                        Report 2 inaccurate book listings
                    </p>
                    <div class="progress-bar-modern" style="height: 8px;">
                        <div class="progress-fill" style="width: 50%;"></div>
                    </div>
                    <small style="color: #b0b3b8;">Progress: 1/2 reports</small>
                </div>
            </div>
            
            <div class="col-md-6 mb-3">
                <div class="quest-card">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 style="color: #fff; margin: 0;">Library Builder</h6>
                        <span class="quest-reward">+25 Points</span>
                    </div>
                    <p style="color: #b0b3b8; font-size: 0.9rem; margin-bottom: 1rem;">
                        Add 5 books to your library
                    </p>
                    <div class="progress-bar-modern" style="height: 8px;">
                        <div class="progress-fill" style="width: 100%;"></div>
                    </div>
                    <small style="color: #28a745;">✅ Completed! Claim your reward</small>
                </div>
            </div>
        </div>
    </div>

    </div>
</div>

<script>
$(document).ready(function() {
    // Toggle Quests Section
    $('#exploreQuests').click(function() {
        $('#questsSection').slideToggle();
    });
    
    // Animate progress bars on page load
    $('.progress-fill').each(function() {
        const width = $(this).css('width');
        $(this).css('width', '0').animate({ width: width }, 1000);
    });
    
    // Badge hover effects
    $('.badge-card').hover(
        function() {
            if ($(this).hasClass('unlocked')) {
                $(this).find('.badge-icon').css('transform', 'scale(1.1)');
            }
        },
        function() {
            $(this).find('.badge-icon').css('transform', 'scale(1)');
        }
    );
});
</script>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>

</body>
</html>